<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¹ä¸èµ·ï¼Œé™ˆæ…§å¨´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        body {
            background: linear-gradient(135deg, #fef7fb 0%, #fcf1f7 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .apology-box {
            background: white;
            padding: 50px 30px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(230, 126, 157, 0.15);
            text-align: center;
            max-width: 400px;
            width: 100%;
        }

        h1 {
            color: #e53e3e;
            margin-bottom: 40px;
            font-size: 24px;
        }

        .btn-group {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        button {
            padding: 15px 35px;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #forgive {
            background: #48bb78;
            color: white;
        }

        #forgive:hover {
            background: #38a169;
            transform: translateY(-2px);
        }

        #not-forgive {
            background: #e53e3e;
            color: white;
        }

        #not-forgive:hover {
            background: #c53030;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="apology-box">
        <h1>é™ˆæ…§å¨´ï¼Œå¯¹ä¸èµ· ğŸ˜”</h1>
        <div class="btn-group">
            <button id="forgive">åŸè°…ä½ </button>
            <button id="not-forgive">ä¸åŸè°…</button>
        </div>
    </div>

    <script>
        // ç­‰å¾…é¡µé¢å®Œå…¨åŠ è½½åå†ç»‘å®šäº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            const forgiveBtn = document.getElementById('forgive');
            const notForgiveBtn = document.getElementById('not-forgive');
            let isForgiven = false;
            let popupInterval = null; // ç”¨äºå­˜å‚¨å¼¹çª—å®šæ—¶å™¨

            // ç‚¹å‡»ã€ä¸åŸè°…ã€‘ï¼šç”¨å®šæ—¶å™¨å¾ªç¯å¼¹çª—ï¼Œé¿å…é€’å½’è¢«æ‹¦æˆª
            notForgiveBtn.addEventListener('click', () => {
                if (isForgiven) return;
                
                // å…ˆæ¸…é™¤å¯èƒ½å­˜åœ¨çš„æ—§å®šæ—¶å™¨
                if (popupInterval) clearInterval(popupInterval);
                
                // ç«‹å³å¼¹å‡ºç¬¬ä¸€ä¸ªå¼¹çª—ï¼Œä¹‹åæ¯éš”100msæ£€æŸ¥å¹¶å¼¹çª—ï¼ˆé¿å…æµè§ˆå™¨æ‹¦æˆªï¼‰
                const showPopup = () => {
                    if (isForgiven) {
                        clearInterval(popupInterval);
                        return;
                    }
                    // ç”¨alertæ›¿ä»£confirmï¼Œç¡®ä¿å¼¹çª—å¿…ç°ï¼ˆéƒ¨åˆ†æµè§ˆå™¨å¯¹confirmæ‹¦æˆªæ›´ä¸¥æ ¼ï¼‰
                    alert('å†ç»™æˆ‘ä¸€æ¬¡æœºä¼šå¥½ä¸å¥½ï¼ŸğŸ˜­');
                };

                // ç«‹å³æ‰§è¡Œä¸€æ¬¡
                showPopup();
                // å¾ªç¯å¼¹çª—ï¼ˆ100msé—´éš”ï¼Œç¡®ä¿è¿ç»­ï¼‰
                popupInterval = setInterval(showPopup, 100);
            });

            // ç‚¹å‡»ã€åŸè°…ä½ ã€‘ï¼šç»“æŸå¼¹çª—å¾ªç¯ + æç¤º
            forgiveBtn.addEventListener('click', () => {
                isForgiven = true;
                // æ¸…é™¤å¼¹çª—å®šæ—¶å™¨
                if (popupInterval) clearInterval(popupInterval);
                alert('è°¢è°¢ä½ çš„åŸè°…ï¼æˆ‘ä»¥åå†ä¹Ÿä¸æ•¢äº†ï½â¤ï¸');
            });

            // ç¦æ­¢å…³é—­é¡µé¢ï¼ˆå…¼å®¹å¤šæµè§ˆå™¨ï¼‰
            window.addEventListener('beforeunload', (e) => {
                if (!isForgiven) {
                    // å…¼å®¹ä¸åŒæµè§ˆå™¨çš„å†™æ³•
                    e.preventDefault();
                    e.returnValue = '';
                    return 'ä½ è¿˜æ²¡åŸè°…æˆ‘å‘¢ï¼Œåˆ«èµ°å•Šï¼';
                }
            });
        });
    </script>
</body>
</html>
